<!DOCTYPE html>
<html>
  <head>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC9ilBk5XW96DnnGZMhtBgOkgkwz-C2oQM"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="css/map.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js"></script>
    <script src="js/config.js"></script>
    <script src="js/main.js"></script>
    <script src="js/xfmr.js"></script>
    <script src="js/graph.js"></script>
    <script src="js/range.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/series-label.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>
    <script>
      $(document).ready(function () {
        mainWidget = new main.Main();
        mainWidget.start();
        rs = new range.RangeSlider();
      });
    </script>
  </head>
  <body>
    <div class="d-flex flex-column mb-3 container gm-container">
      <h2>Transformer Modeler</h2>
      <div class="d-flex align-items-start">
        <div class="d-flex align-self-end gm-col">
          <div class="gm-label">Start Date :</div>
          <input
            id="gm-start-date"
            class="form-control form-control-sm"
            type="text"
            placeholder="YYYY-MM-DD"
          />
        </div>
        <div class="d-flex align-self-end gm-col">
          <div class="gm-label">End Date :</div>
          <input
            id="gm-end-date"
            class="form-control form-control-sm"
            type="text"
            placeholder="YYYY-MM-DD"
          />
        </div>
        <div class="d-flex gm-col">
          <button id="loadData" type="button" class="btn btn-primary">
            Load Data
          </button>
        </div>
      </div>
      <div class="d-flex gm-init-hide">
        <div class="flex-grow-1">
          <label class="form-label" for="customRange1">Select Date</label>
          <div class="range gm-col">
            <input
              type="range"
              id="dateRange"
              class="form-range"
              id="customRange1"
            />
          </div>
        </div>
      </div>
      <div class="d-flex gm-init-hide">
        <div class="d-flex align-self-end gm-col">
          <div class="gm-label">Show Date/Hour :</div>
          <input
            id="showDateText"
            class="form-control form-control-sm"
            type="text"
            placeholder="YYYY-MM-DD:HH24"
          />
        </div>

        <div class="d-flex align-self-end gm-col">
          <button id="goto" type="button" class="btn btn-primary">
            Select
          </button>
        </div>
        <div class="d-flex align-self-end gm-col">
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="typeString"
              id="radio1"
              value="k"
              checked
            />
            <label class="form-check-label" for="exampleRadios1"> KVA </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="typeString"
              id="radio2"
              value="v"
            />
            <label class="form-check-label" for="exampleRadios2">
              Voltage
            </label>
          </div>
        </div>
      </div>
      <div id="googleMap" class="p-2 flex-grow-1"></div>
    </div>

    <div
      class="modal"
      id="graph1Modal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
            <button
              type="button"
              class="close gm-close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div id="meterGraph" class="modal-body">...</div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-default btn-outline-dark gm-close"
              data-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
    <div
      class="modal"
      id="graph2Modal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
            <button
              type="button"
              class="close gm-close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div id="meterGraph" class="modal-body">
            <div class="container">
              <div class="row">
                <div id="gm-graph2-graph1" class="col"></div>
                <div id="gm-graph2-graph2" class="col"></div>
              </div>
              <div class="row">
                <div id="gm-graph2-graph3" class="col"></div>
                <div id="gm-graph2-graph4" class="col"></div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-default btn-outline-dark gm-close"
              data-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
